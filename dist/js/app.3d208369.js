(function(e){function t(t){for(var o,r,i=t[0],s=t[1],l=t[2],h=0,d=[];h<i.length;h++)r=i[h],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);u&&u(t);while(d.length)d.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],o=!0,i=1;i<n.length;i++){var s=n[i];0!==a[s]&&(o=!1)}o&&(c.splice(t--,1),e=r(r.s=n[0]))}return e}var o={},a={app:0},c=[];function r(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=s;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"044a":function(e,t,n){},"0467":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABmJLR0QA/wD/AP+gvaeTAAADRUlEQVR4nO3dzU7UUACG4ReVlcQr0BswogsichWABkKiXA8uUW9BNyYu5DqUPZmd/xp/FkIiyRhxcWYC084wbTmn/dr53qSJs+iZ0/OkVMLAAeecc84555yrt7mK580Da8A6sATcAK7GmlRLOwI+AvvAa2AP6NfxxmtADzjxce7RG6xVsi4BjwUutE3HP2BnsHbRM0b1Y6fCep/bGkH77Jv8AXaBZfz8gLAGy8ATwtpk75TVWG80T/6Z8Q64FesNOtgi8J7RNesR1vLCbZC/M4wxvUXgmNG124gx8IvMoLsxBp2RnjK6ds9jDHqQGfRujEFnpHuMrt1BjEEPM4MuxBh0RlpgdO0Op51Q5Dv1kwrnuNNKrV+Sb1hc9QwilkHEMohYBhHLIGIZRCyDiGUQsQwilkHEMohYBhHLIGIZRCyDiGUQsQwilkHEqgNkE/gBfCJ8Wr5t3Qe+Ar+ArYbnAuQ/p1qmOeD7mXP7iFxUwbYIcx7O/yflP+RxkfVLMuC3zPltQclinBCupWxyIA/IX5g6yjiMPuFayiYHAuEzrdkL/Atsx5hg5DYZP9dHFceTBIF2oMTGAGEQ0EZJgQHiIKCJkgoDWgACWigpMaAlIKCBkhoDWgQCzaLUgQEtA4FmUOrCgBaCQL0odWJAS0GgHpS6MaDFIJAWpQkMaDkIpEFpCgM6AAJxUZrEgI6AQByUpjGgQyBwMRQFDOgYCFRDUcGADoJAORQlDOgoCBRDUcOADoPA+SiKGNBxEJj8827Vn9t3HgTG3ylqd8awmQCByShKGDBDIJBHUcOAGQOBUxRFDCi5fleSTyd9r4DLg3+/bHIiMfIfMEtfqfXzryOIZRCxDCKWQcQyiFgGEcsgYhlELIOIZRCxDCKWQcQyiFgGEasISHYTEm/oUrxrmde/p51QBORz5vXNwtNx2bX6Mu2EIiBvM68fFp6Oy67VmxiDjts2bzHGwB3vDom2zZu0saRRJnebhBtLwvitV48J+/St4Ac9hDVYAZ6RvzOibr06zJsTVz+ib04M4T8AO+TvFB+Tj6Tbdw9bxRvcFzl6VPgyVfUzVvOE58o6sARcx8+RI+ADsA/sDY5+ozNyzjnnnHPOuQL9B/U7K14i+u0vAAAAAElFTkSuQmCC"},"0614":function(e,t,n){"use strict";n("2684")},"0897":function(e,t,n){},"221c":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAABX0lEQVRoge2aPU7DQBCFvyAUiQqJtFwE5RochjIN+blJTsAdKAwUdLQkEWUuABRZiyTgsA/H+K21TxrJxY71Pu3IuztegD4wA5bAh0ksgEnwFq2pgfGqGCsgi5B0pSQ1rCFfMxOtkt5Nkq+TBo38qzKImzKIm5xBbpTBp025OIJmwJmS4LqOSHIuLUmuIHPgDjhXkhxLq2Dj6R4BxhHkEnhh46sALmKSHEHgDzCuILAL88AvMM4gIMC4g8B3mMFPg1IAgQiYVEBgF+aRPZiUQOAATGogUAFTB6QHPG29o60o6u61esB7zXccTbm0WlLlZzglkINrSSognVgQo/Zb7iDR23lnEOlM4grSiYNVZ466z4jNB9dO4xuwAq6BdWyS44zIcm3QyXIHGSmDXUtrhOjLFST/1U1aGcRNnQJZhudhm0b2VHqRLtVMaL8vVRW3Ckg/wJTXnRziNUBEXzz7BOOAODtHOlVVAAAAAElFTkSuQmCC"},"24b1":function(e,t,n){},2684:function(e,t,n){},"268f":function(e,t,n){"use strict";n("0897")},"32c4":function(e,t,n){},4493:function(e,t,n){"use strict";n("7eec")},"54ab":function(e,t,n){"use strict";n("32c4")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),a=(n("b0c0"),n("fb6a"),n("221c")),c=n.n(a),r={key:0,ref:"nav",class:"nav"},i=Object(o["i"])("Options"),s=Object(o["h"])("p",null,"Categories:",-1),l={id:"logout",ref:"logout"},u=Object(o["h"])("p",null,"Utilisateur:",-1),h=Object(o["h"])("p",null,"Se déconnecter ?",-1);function d(e,t,n,a,d,g){var b=Object(o["C"])("router-link"),f=Object(o["C"])("router-view");return Object(o["v"])(),Object(o["g"])(o["a"],null,[d.userDatas?(Object(o["v"])(),Object(o["g"])("div",r,[Object(o["j"])(b,{to:"/options",onClick:g.toggleMenu},{default:Object(o["L"])((function(){return[i]})),_:1},8,["onClick"]),Object(o["h"])("div",null,[s,(Object(o["v"])(!0),Object(o["g"])(o["a"],null,Object(o["A"])(g.links,(function(e){return Object(o["v"])(),Object(o["e"])(b,{key:e,to:"/items/"+e.id,onClick:g.toggleMenu},{default:Object(o["L"])((function(){return[Object(o["i"])(Object(o["F"])(e.name[0].toUpperCase()+e.name.slice(1)),1)]})),_:2},1032,["to","onClick"])})),128))]),Object(o["h"])("div",l,[Object(o["h"])("div",null,[u,Object(o["h"])("h2",null,Object(o["F"])(d.userDatas.first_name+" "+d.userDatas.last_name),1)]),Object(o["h"])("img",{src:c.a,onClick:t[0]||(t[0]=function(){return g.toggleLogout&&g.toggleLogout.apply(g,arguments)})}),Object(o["h"])("div",null,[h,Object(o["h"])("div",null,[Object(o["h"])("button",{onClick:t[1]||(t[1]=function(){return g.logoutReturn&&g.logoutReturn.apply(g,arguments)})},"Oui"),Object(o["h"])("button",{onClick:t[2]||(t[2]=function(){return g.toggleLogout&&g.toggleLogout.apply(g,arguments)})},"Non")])])],512)],512)):Object(o["f"])("",!0),d.userDatas?(Object(o["v"])(),Object(o["g"])("div",{key:1,ref:"toogle",class:"toggle",onClick:t[3]||(t[3]=function(){return g.toggleMenu&&g.toggleMenu.apply(g,arguments)})},null,512)):Object(o["f"])("",!0),Object(o["j"])(f)],64)}var g=n("1da1"),b=(n("96cf"),n("d3b7"),n("48ac")),f=n.n(b),p={data:function(){return{storeLinks:this.$store.state.allLinks,userDatas:localStorage.getItem("token")?f.a.decode(localStorage.getItem("token")):null}},computed:{links:function(){return this.$store.state.allLinks}},methods:{setBtn:function(){this.value=this.$route.params.item?this.$route.params.item:null},toggleMenu:function(){this.$refs.nav.classList.toggle("active"),this.$refs.toogle.classList.toggle("active")},toggleLogout:function(){this.$refs.logout.classList.toggle("active")},logout:function(){localStorage.removeItem("token"),this.userDatas=null,this.$router.push("/")},logoutReturn:function(){this.logout(),this.toggleMenu(),this.toggleLogout()}},watch:{$route:function(e,t){var n=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!localStorage.getItem("token")){t.next=9;break}if(0===n.links.length){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,f.a.decode(localStorage.getItem("token"));case 5:return o=t.sent,a="ROLE_ADMIN"===o.role?"http://localhost:3000/api/categories":"http://localhost:3000/api/userCategories",t.next=9,fetch(a,{method:"GET",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("token")}}).then((function(e){return e.json()})).then(function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return!t.status||401!=t.status&&403!=t.status||(console.log("error"),n.logout()),n.userDatas=o,e.next=4,n.$store.commit("getAllLinks",t);case 4:n.setBtn();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())["catch"]((function(e){console.log(e)}));case 9:e&&e.href&&"/options"!==e.href&&"/"!==e.href&&"/login"!==e.href&&"/register"!==e.href&&n.setBtn();case 10:case"end":return t.stop()}}),t)})))()}}},m=(n("e67c"),n("6b0d")),O=n.n(m);const j=O()(p,[["render",d]]);var v=j,k=n("6c02"),y={id:"options"},C=Object(o["h"])("header",null,[Object(o["h"])("h1",null,"Options"),Object(o["h"])("div",null,[Object(o["h"])("h2",null,"Health Check"),Object(o["h"])("p",null,"Check health of your link")])],-1),A={id:"formDiv"};function w(e,t,n,a,c,r){var i=Object(o["C"])("loader"),s=Object(o["C"])("Form1"),l=Object(o["C"])("Form2"),u=Object(o["C"])("Form3"),h=Object(o["C"])("Form4");return Object(o["v"])(),Object(o["g"])("section",y,[C,Object(o["h"])("div",A,[c.loading?(Object(o["v"])(),Object(o["e"])(i,{key:0,object:"#ffffff",color1:"#77c207",color2:"#2c2c2c",size:"11",speed:"1.5",bg:"#343a40",objectbg:"#999793",opacity:"80",name:"circular"})):Object(o["f"])("",!0),Object(o["j"])(s),0!==r.storeCat.length?(Object(o["v"])(),Object(o["e"])(l,{key:1,categories:r.storeCat},null,8,["categories"])):Object(o["f"])("",!0),0!==r.storeCat.length?(Object(o["v"])(),Object(o["e"])(u,{key:2,categories:r.storeCat},null,8,["categories"])):Object(o["f"])("",!0),0!==r.storeCat.length?(Object(o["v"])(),Object(o["e"])(h,{key:3,categories:r.storeCat},null,8,["categories"])):Object(o["f"])("",!0)])])}var L=n("0467"),D=n.n(L),T=Object(o["h"])("h2",null,"Ajouter une catégorie",-1),U={src:D.a,ref:"btnAddCat"},I=Object(o["h"])("label",{for:"getName"},"Entrez le nom pour la nouvelle catégorie",-1),E=Object(o["h"])("button",null,"Ajouter",-1);function S(e,t,n,a,c,r){var i=Object(o["C"])("loader");return Object(o["v"])(),Object(o["g"])("form",{ref:"addCat",id:"categoryForm",onSubmit:t[2]||(t[2]=Object(o["N"])((function(){return r.addCategory&&r.addCategory.apply(r,arguments)}),["prevent"])),method:"POST"},[c.loading?(Object(o["v"])(),Object(o["e"])(i,{key:0,class:"loader",object:"#ffffff",color1:"#77c207",color2:"#2c2c2c",size:"11",speed:"1.5",bg:"#343a40",objectbg:"#999793",opacity:"80",name:"circular"})):Object(o["f"])("",!0),Object(o["h"])("div",{onClick:t[0]||(t[0]=function(){return r.toggleCatForm&&r.toggleCatForm.apply(r,arguments)})},[T,Object(o["h"])("img",U,null,512)]),Object(o["h"])("div",null,[Object(o["h"])("div",null,[I,Object(o["M"])(Object(o["h"])("input",{type:"text",id:"getName",placeholder:"Nom ici","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.nameC=e})},null,512),[[o["I"],c.nameC]])]),E])],544)}n("e9c4");var x=n("98a0"),R={name:"formAdd",data:function(){return{nameC:null,loading:!1}},methods:{addCategory:function(){var e=this,t={name:this.nameC};this.nameC?(this.loading=!0,fetch("https://warm-inlet-55236.herokuapp.com/api/categories",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":localStorage.getItem("token")},body:JSON.stringify(t)}).then((function(e){return e.json()})).then(function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n.status&&400===n.status?(e.toast(n.message,"warning"),e.loading=!1):n.status&&200===n.status?(e.$store.commit("incrementAllLinks",n.cat),e.toast("Category créée","success"),e.loading=!1):(e.toast("Une erreur est survenue.","error"),e.loading=!1);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())["catch"]((function(t){e.toast("Une erreur est survenue.","danger"),e.loading=!1}))):this.toast("Le nom est vide","warning")},toggleCatForm:function(){this.$refs.addCat.classList.toggle("active"),this.$refs.btnAddCat.classList.toggle("active")}},setup:function(){var e=function(e,t){Object(x["a"])(e,{position:"top-right",timeout:3e3,type:t,showIcon:!0})};return{toast:e}}};n("54ab");const M=O()(R,[["render",S]]);var F=M,N=(n("9911"),Object(o["h"])("h2",null,[Object(o["i"])("Ajouter un lien"),Object(o["h"])("link",{rel:"stylesheet",href:""})],-1)),P={src:D.a,ref:"btnAddLink"},B=Object(o["h"])("label",{for:"getLink"},"Entrez le lien et la méthode que vous voulez ajouter.",-1),V=Object(o["h"])("label",{for:"methid"},"Méthode:",-1),Q=Object(o["h"])("option",{value:"GET"},"GET",-1),z=Object(o["h"])("option",{value:"POST"},"POST",-1),H=Object(o["h"])("option",{value:"DELETE"},"DELETE",-1),G=Object(o["h"])("option",{value:"PUT"},"PUT",-1),$=[Q,z,H,G],J=Object(o["h"])("label",{for:"category"},"Categorie:",-1),q=["value"],Z=Object(o["h"])("button",null,"ajouter",-1);function K(e,t,n,a,c,r){var i=Object(o["C"])("loader");return Object(o["v"])(),Object(o["g"])("form",{id:"linkForm",onSubmit:t[4]||(t[4]=Object(o["N"])((function(){return r.addLink&&r.addLink.apply(r,arguments)}),["prevent"])),method:"POST",ref:"addLink"},[c.loading?(Object(o["v"])(),Object(o["e"])(i,{key:0,class:"loader",object:"#ffffff",color1:"#77c207",color2:"#2c2c2c",size:"11",speed:"1.5",bg:"#343a40",objectbg:"#999793",opacity:"80",name:"circular"})):Object(o["f"])("",!0),Object(o["h"])("div",{onClick:t[0]||(t[0]=function(){return r.toggleLinkForm&&r.toggleLinkForm.apply(r,arguments)})},[N,Object(o["h"])("img",P,null,512)]),Object(o["h"])("div",null,[Object(o["h"])("div",null,[B,Object(o["M"])(Object(o["h"])("input",{type:"text",id:"getLink",placeholder:"Lien ici","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.link=e})},null,512),[[o["I"],c.link]])]),Object(o["h"])("div",null,[V,Object(o["M"])(Object(o["h"])("select",{name:"method","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.method=e})},$,512),[[o["H"],c.method]]),J,Object(o["M"])(Object(o["h"])("select",{name:"category","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.category=e})},[(Object(o["v"])(!0),Object(o["g"])(o["a"],null,Object(o["A"])(this.categories,(function(e){return Object(o["v"])(),Object(o["g"])("option",{key:e,value:e.id},Object(o["F"])(e.name[0].toUpperCase()+e.name.slice(1)),9,q)})),128))],512),[[o["H"],c.category]])]),Z])],544)}var Y={name:"formAdd",props:["categories"],data:function(){return{link:null,method:"GET",category:this.categories[0].id,loading:!1}},methods:{addLink:function(){var e=this;this.loading=!0;var t={link:this.link,method:this.method,statusCode:200,health:!0,category:this.category};fetch("https://warm-inlet-55236.herokuapp.com/api/links",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":localStorage.getItem("token")},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){t.status&&400===t.status?(e.loading=!1,e.toast(t.message,"warning")):t.status&&200===t.status?(e.toast("Lien ajouté","success"),e.loading=!1):(e.loading=!1,e.toast("Une erreur est survenue.","danger"))}))["catch"]((function(t){e.loading=!1,e.toast("Une erreur est survenue.","danger"),console.log(t)}))},toggleLinkForm:function(){this.$refs.addLink.classList.toggle("active"),this.$refs.btnAddLink.classList.toggle("active")}},setup:function(){var e=function(e,t){Object(x["a"])(e,{position:"top-right",timeout:5e3,type:t,showIcon:!0})};return{toast:e}}};n("cd74");const _=O()(Y,[["render",K]]);var W=_,X=(n("7db0"),Object(o["h"])("h2",null,"Modifier ou supprimer une catégorie",-1)),ee={src:D.a,ref:"btnDelCat"},te=Object(o["h"])("label",{for:"getName"},"Choisissez une catégorie et l'action à effectuer.",-1),ne=Object(o["h"])("label",{for:"category"},"Categorie:",-1),oe=["value"],ae=Object(o["h"])("label",{for:"delormod"},"Action:",-1),ce=Object(o["h"])("option",{value:"PUT"},"Modifier",-1),re=Object(o["h"])("option",{value:"DELETE"},"Supprimer",-1),ie=[ce,re],se={key:0},le=Object(o["h"])("button",null,"Valider",-1);function ue(e,t,n,a,c,r){var i=this,s=Object(o["C"])("loader");return Object(o["v"])(),Object(o["g"])("form",{id:"catDeleteForm",onSubmit:t[5]||(t[5]=Object(o["N"])((function(){return r.modDelCategory&&r.modDelCategory.apply(r,arguments)}),["prevent"])),method:"POST",ref:"delCat"},[c.loading?(Object(o["v"])(),Object(o["e"])(s,{key:0,class:"loader",object:"#ffffff",color1:"#77c207",color2:"#2c2c2c",size:"11",speed:"1.5",bg:"#343a40",objectbg:"#999793",opacity:"80",name:"circular"})):Object(o["f"])("",!0),Object(o["h"])("div",{onClick:t[0]||(t[0]=function(){return r.toggleCatDelForm&&r.toggleCatDelForm.apply(r,arguments)})},[X,Object(o["h"])("img",ee,null,512)]),Object(o["h"])("section",null,[Object(o["h"])("div",null,[te,Object(o["h"])("div",null,[ne,Object(o["M"])(Object(o["h"])("select",{name:"category","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.category=e}),onChange:t[2]||(t[2]=function(e){return c.newName=i.categories.find((function(e){return e.id===c.category})).name})},[(Object(o["v"])(!0),Object(o["g"])(o["a"],null,Object(o["A"])(this.categories,(function(e){return Object(o["v"])(),Object(o["g"])("option",{key:e,value:e.id},Object(o["F"])(e.name[0].toUpperCase()+e.name.slice(1)),9,oe)})),128))],544),[[o["H"],c.category]]),ae,Object(o["M"])(Object(o["h"])("select",{name:"delormod","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.action=e})},ie,512),[[o["H"],c.action]])]),"PUT"===c.action?(Object(o["v"])(),Object(o["g"])("label",se,"Changez le nom ici:")):Object(o["f"])("",!0),"PUT"===c.action?Object(o["M"])((Object(o["v"])(),Object(o["g"])("input",{key:1,type:"text","onUpdate:modelValue":t[4]||(t[4]=function(e){return c.newName=e})},null,512)),[[o["I"],c.newName]]):Object(o["f"])("",!0)]),le])],544)}n("99af");var he={name:"formAdd",props:["categories"],data:function(){return{category:this.categories[0].id,action:"PUT",newName:this.categories[0].name,userData:f.a.decode(localStorage.getItem("token")),loading:!1}},methods:{modDelCategory:function(){var e=this,t={name:this.newName};this.newName!==this.categories.find((function(t){return t.id===e.category})).name||"DELETE"===this.action?(this.loading=!0,fetch("https://warm-inlet-55236.herokuapp.com/api/user/".concat(this.userData.userId,"/categories/").concat(this.category),{method:this.action,headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":localStorage.getItem("token")},body:JSON.stringify(t)}).then((function(e){return e.json()})).then(function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loading=!1,"DELETE"===e.action?"Category deleted."===n.message?(e.$store.commit("deleteAllLinks",e.category),e.toast(n.message,"success"),e.category="618511ce4efdc576ee585e52"):e.toast(n.message,"danger"):"PUT"===e.action&&("Category name modified."===n.message?(e.$store.commit("modifyAllLinks",{cat:e.category,name:e.newName}),e.toast(n.message,"success")):e.toast(n.message,"danger"));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())["catch"]((function(t){console.log(t),e.loading=!1,e.toast("Une erreur est survenue.","danger")}))):this.toast("Les deux nom sont identiques !","danger")},toggleCatDelForm:function(){this.$refs.delCat.classList.toggle("active"),this.$refs.btnDelCat.classList.toggle("active")}},setup:function(){var e=function(e,t){Object(x["a"])(e,{position:"top-right",timeout:5e3,type:t,showIcon:!0})};return{toast:e}},mounted:function(){}};n("59ee");const de=O()(he,[["render",ue]]);var ge=de,be=Object(o["h"])("h2",null,"Modifier ou supprimer un lien",-1),fe={src:D.a,ref:"btnDelLink"},pe=Object(o["h"])("label",{for:"getName"},"Choisir une catégorie, séléctionner un lien, choix de l'actions, modifications des paramètres voulus.",-1),me=Object(o["h"])("label",{for:"category"},"Category:",-1),Oe=["value"],je=Object(o["h"])("label",{for:"delormod"},"Action:",-1),ve=Object(o["h"])("option",{value:"PUT"},"Modifier",-1),ke=Object(o["h"])("option",{value:"DELETE"},"Supprimer",-1),ye=[ve,ke],Ce=Object(o["h"])("label",{for:"allLink"},"Selectionnez le lien:",-1),Ae=["value"],we={key:0},Le=Object(o["h"])("label",{for:"method"},"Nouvelle méthode:",-1),De=Object(o["h"])("option",{value:"GET"},"GET",-1),Te=Object(o["h"])("option",{value:"POST"},"POST",-1),Ue=Object(o["h"])("option",{value:"DELETE"},"DELETE",-1),Ie=Object(o["h"])("option",{value:"PUT"},"PUT",-1),Ee=[De,Te,Ue,Ie],Se=Object(o["h"])("label",{for:"newCat"},"Nouvelle catégorie",-1),xe=["value"],Re={key:1},Me=Object(o["h"])("button",null,"Valider",-1);function Fe(e,t,n,a,c,r){var i=Object(o["C"])("loader");return Object(o["v"])(),Object(o["g"])("form",{id:"deleteLinkForm",method:"POST",onSubmit:t[9]||(t[9]=Object(o["N"])((function(){return r.use&&r.use.apply(r,arguments)}),["prevent"])),ref:"delLink"},[c.loading?(Object(o["v"])(),Object(o["e"])(i,{key:0,class:"loader",object:"#ffffff",color1:"#77c207",color2:"#2c2c2c",size:"11",speed:"1.5",bg:"#343a40",objectbg:"#999793",opacity:"80",name:"circular"})):Object(o["f"])("",!0),Object(o["h"])("div",{onClick:t[0]||(t[0]=function(){return r.toggleDelLinkForm&&r.toggleDelLinkForm.apply(r,arguments)})},[be,Object(o["h"])("img",fe,null,512)]),Object(o["h"])("section",null,[Object(o["h"])("div",null,[pe,Object(o["h"])("div",null,[me,Object(o["M"])(Object(o["h"])("select",{name:"category","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.category=e}),onChange:t[2]||(t[2]=function(){return r.selectLink&&r.selectLink.apply(r,arguments)})},[(Object(o["v"])(!0),Object(o["g"])(o["a"],null,Object(o["A"])(this.categories,(function(e){return Object(o["v"])(),Object(o["g"])("option",{key:e,value:e.id},Object(o["F"])(e.name[0].toUpperCase()+e.name.slice(1)),9,Oe)})),128))],544),[[o["H"],c.category]]),je,Object(o["M"])(Object(o["h"])("select",{name:"delormod","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.action=e})},ye,512),[[o["H"],c.action]])]),Ce,Object(o["M"])(Object(o["h"])("select",{name:"allLink","onUpdate:modelValue":t[4]||(t[4]=function(e){return c.selectedLink=e}),onChange:t[5]||(t[5]=function(){return r.changeData&&r.changeData.apply(r,arguments)})},[(Object(o["v"])(!0),Object(o["g"])(o["a"],null,Object(o["A"])(c.allLinks,(function(e){return Object(o["v"])(),Object(o["g"])("option",{key:e.link,value:e._id},Object(o["F"])(e.link+" ("+e.method+")"),9,Ae)})),128))],544),[[o["H"],c.selectedLink]]),"PUT"===c.action?(Object(o["v"])(),Object(o["g"])("div",we,[Le,Object(o["M"])(Object(o["h"])("select",{name:"method","onUpdate:modelValue":t[6]||(t[6]=function(e){return c.method=e})},Ee,512),[[o["H"],c.method]]),Se,Object(o["M"])(Object(o["h"])("select",{name:"newCat","onUpdate:modelValue":t[7]||(t[7]=function(e){return c.newCat=e})},[(Object(o["v"])(!0),Object(o["g"])(o["a"],null,Object(o["A"])(this.categories,(function(e){return Object(o["v"])(),Object(o["g"])("option",{key:e,value:e.id},Object(o["F"])(e.name[0].toUpperCase()+e.name.slice(1)),9,xe)})),128))],512),[[o["H"],c.newCat]])])):Object(o["f"])("",!0),"PUT"===c.action?(Object(o["v"])(),Object(o["g"])("label",Re,"Changez le lien ici:")):Object(o["f"])("",!0),"PUT"===c.action?Object(o["M"])((Object(o["v"])(),Object(o["g"])("input",{key:2,type:"text","onUpdate:modelValue":t[8]||(t[8]=function(e){return c.newLink=e})},null,512)),[[o["I"],c.newLink]]):Object(o["f"])("",!0)]),Me])],544)}var Ne={name:"formAdd",props:["categories"],data:function(){return{category:this.categories[0].id,action:"PUT",newLink:"",allLinks:[],selectedLink:null,method:null,newCat:null,userData:f.a.decode(localStorage.getItem("token")),loading:!1}},methods:{selectLink:function(){var e=this;fetch("https://warm-inlet-55236.herokuapp.com/api/user/".concat(this.userData.userId,"/categories/").concat(this.category),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":localStorage.getItem("token")}}).then((function(e){return e.json()})).then(function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.allLinks=n.sites,e.newLink=n.sites[0]?n.sites[0].link:"Cette catégorie est vide",e.selectedLink=n.sites[0]?n.sites[0]._id:"Cette catégorie est vide",e.method=n.sites[0]?n.sites[0].method:"GET",e.newCat=e.category;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())["catch"]((function(t){console.log(t),e.toast("Une erreur est survenue.","danger")}))},toggleDelLinkForm:function(){this.$refs.delLink.classList.toggle("active"),this.$refs.btnDelLink.classList.toggle("active")},changeData:function(){var e=this,t=this.allLinks.find((function(t){return t._id===e.selectedLink}));this.method=t.method,this.newLink=t.link},delModLink:function(){var e=this,t=this.allLinks.find((function(t){return t._id===e.selectedLink})),n={category:this.category,link:this.newLink||null,action:this.action,method:this.method||null,newCategory:this.newCat||null};this.method!==t.method||this.newLink!==t.link||this.category!==this.newCat&&"PUT"===this.action||"DELETE"===this.action?(this.loading=!0,fetch("https://warm-inlet-55236.herokuapp.com/api/user/".concat(this.userData.userId,"/links/").concat(this.selectedLink),{method:this.action,headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":localStorage.getItem("token")},body:JSON.stringify(n)}).then((function(e){return e.json()})).then(function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loading=!1,200===n.status?e.toast(n.message,"success"):400===n.status?e.toast(n.message,"warning"):e.toast("Une erreur est survenue.","danger");case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())["catch"]((function(t){console.log(t),e.loading=!1,e.toast("Une erreur est survenue.","danger")}))):this.toast("Tous les paramètres sont identiques !","warning")},use:function(){this.delModLink(),this.selectLink(),this.changeData()}},setup:function(){var e=function(e,t){Object(x["a"])(e,{position:"top-right",timeout:3e3,type:t,showIcon:!0})};return{toast:e}},mounted:function(){this.selectLink()}};n("268f");const Pe=O()(Ne,[["render",Fe]]);var Be=Pe,Ve={name:"Options",components:{Form1:F,Form2:W,Form3:ge,Form4:Be},data:function(){return{loading:!0}},computed:{storeCat:function(){return this.$store.state.allLinks}},mounted:function(){this.loading=!1}};n("4493");const Qe=O()(Ve,[["render",w]]);var ze=Qe,He={id:"items"},Ge=Object(o["h"])("div",null,[Object(o["h"])("h2",null,"Health Check"),Object(o["h"])("p",null,"Check health of your link")],-1),$e={id:"allCard"};function Je(e,t,n,a,c,r){var i=this,s=Object(o["C"])("loader"),l=Object(o["C"])("Card");return Object(o["v"])(),Object(o["g"])("section",He,[Object(o["h"])("header",null,[Object(o["h"])("h1",null,Object(o["F"])(r.storeCat.find((function(e){return e.id===i.$route.params.item})).name.toUpperCase()),1),Ge]),Object(o["h"])("div",$e,[c.loading?(Object(o["v"])(),Object(o["e"])(s,{key:0,object:"#ffffff",color1:"#77c207",color2:"#2c2c2c",size:"11",speed:"1.5",bg:"#343a40",objectbg:"#999793",opacity:"80",name:"circular"})):Object(o["f"])("",!0),Object(o["j"])(l,{allData:c.allData},null,8,["allData"])])])}n("d81d"),n("4795");var qe={class:"circle"},Ze=Object(o["h"])("p",null,"Status Code:",-1);function Ke(e,t,n,a,c,r){return Object(o["v"])(),Object(o["g"])("div",null,[(Object(o["v"])(!0),Object(o["g"])(o["a"],null,Object(o["A"])(this.allData,(function(e){return Object(o["v"])(),Object(o["g"])("div",{class:"dataDiv",key:e},[Object(o["h"])("div",qe,[Object(o["h"])("div",null,[Object(o["h"])("p",{class:Object(o["p"])(e.health?"on":"off")},Object(o["F"])(e.health?"Ok":"Off"),3)]),Object(o["h"])("p",null,Object(o["F"])(e.method),1),Object(o["h"])("div",null,[Ze,Object(o["h"])("h3",null,Object(o["F"])(e.statusCode?e.statusCode:"Not Found"),1)])]),Object(o["h"])("h2",null,Object(o["F"])(e.link),1)])})),128))])}var Ye={props:["allData"]};n("f24d");const _e=O()(Ye,[["render",Ke]]);var We=_e,Xe={name:"Items",components:{Card:We},data:function(){return{name:"dataDiv",allData:[],loading:!0,userData:f.a.decode(localStorage.getItem("token"))}},methods:{loadData:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$route.params.item){t.next=5;break}return e.allData=[],n=e.$route.params.item?e.$route.params.item:null,t.next=5,fetch("https://warm-inlet-55236.herokuapp.com/api/user/".concat(e.userData.userId,"/categories/").concat(n),{method:"GET",headers:{"Content-Type":"application/json","x-access-token":localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(t){e.loading=!1,t.sites.map((function(t){var n=t.link,o=t.method,a=t.health,c=t.statusCode;e.allData.push({link:n,method:o,health:a,statusCode:c})}))}));case 5:case"end":return t.stop()}}),t)})))()}},computed:{storeCat:function(){return this.$store.state.allLinks}},mounted:function(){var e=this;return Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loadData(),setInterval((function(){e.loading=!0,setTimeout(Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loadData();case 1:case"end":return t.stop()}}),t)}))),500)}),12e4);case 2:case"end":return t.stop()}}),t)})))()},watch:{$route:function(e,t){var n=this;e&&e.href&&"/options"!==e.href&&(this.loading=!0,setTimeout(Object(g["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n.loadData();case 1:case"end":return e.stop()}}),e)}))),1e3))}},setup:function(){var e=function(e,t){Object(x["a"])(e,{position:"top-right",timeout:3e3,type:t,showIcon:!0})};return{toast:e}}};n("9baf");const et=O()(Xe,[["render",Je]]);var tt=et,nt={id:"home"},ot=Object(o["h"])("h1",null,"Health-Check",-1),at=Object(o["h"])("p",null,"Check health of your request for a link.",-1),ct={id:"btn-div"},rt=Object(o["i"])(" ou ");function it(e,t,n,a,c,r){var i=this;return Object(o["v"])(),Object(o["g"])("div",nt,[ot,at,Object(o["h"])("div",ct,[Object(o["h"])("a",{class:"btn",onClick:t[0]||(t[0]=function(e){return i.$router.push("/login")})},"Se connecter"),rt,Object(o["h"])("a",{class:"btn",onClick:t[1]||(t[1]=function(e){return i.$router.push("/register")})},"S'enregistrer")])])}var st={name:"Home"};n("90f3");const lt=O()(st,[["render",it]]);var ut=lt,ht={id:"register"},dt={id:"form"},gt=Object(o["h"])("h1",null,"S'enregistrer",-1),bt=Object(o["h"])("label",{for:"firstName"},"Prénom",-1),ft=Object(o["h"])("label",{for:"lastName"},"Nom",-1),pt=Object(o["h"])("label",{for:"email"},"Email",-1),mt=Object(o["h"])("label",{for:"password"},"Mot de passe",-1),Ot=Object(o["h"])("button",null,"Créer",-1),jt=Object(o["i"])("Vous avez déjà un compte ? ");function vt(e,t,n,a,c,r){var i=this;return Object(o["v"])(),Object(o["g"])("div",ht,[Object(o["h"])("div",dt,[gt,Object(o["h"])("form",{onSubmit:t[4]||(t[4]=Object(o["N"])((function(){return r.register&&r.register.apply(r,arguments)}),["prevent"]))},[bt,Object(o["M"])(Object(o["h"])("input",{type:"text",id:"firstName",placeholder:"Entrez votre prénom ici.","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.firstName=e})},null,512),[[o["I"],c.firstName]]),ft,Object(o["M"])(Object(o["h"])("input",{type:"text",id:"lastName",placeholder:"Entrez votre nom ici.","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.lastName=e})},null,512),[[o["I"],c.lastName]]),pt,Object(o["M"])(Object(o["h"])("input",{type:"email",id:"email",placeholder:"Entrez votre mail ici.","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.mail=e})},null,512),[[o["I"],c.mail]]),mt,Object(o["M"])(Object(o["h"])("input",{type:"password",id:"password",minlength:"8",maxlength:"15",placeholder:"8 à 15 charactères","onUpdate:modelValue":t[3]||(t[3]=function(e){return c.password=e})},null,512),[[o["I"],c.password]]),Ot],32),Object(o["h"])("p",null,[jt,Object(o["h"])("a",{onClick:t[5]||(t[5]=function(e){return i.$router.push("/login")})}," Se connecter")])])])}var kt={name:"Register",data:function(){return{firstName:null,lastName:null,mail:null,password:null}},methods:{register:function(){var e=this;this.firstName&&this.lastName&&this.mail&&this.password?fetch("https://warm-inlet-55236.herokuapp.com/api/register",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({first_name:this.firstName,last_name:this.lastName,email:this.mail,password:this.password})}).then((function(e){return e.json()})).then((function(t){console.log(t),200===t.statusCode?(e.toast("Registered successfully","success"),e.$router.push("/login?email=".concat(e.mail))):e.toast(t.res.message,"danger")}))["catch"]((function(t){console.log(t),e.toast("Something went wrong","danger")})):this.toast("Please fill all the fields.","danger")}},setup:function(){var e=function(e,t){Object(x["a"])(e,{position:"top-left",timeout:5e3,type:t,showIcon:!0})};return{toast:e}}};n("5803");const yt=O()(kt,[["render",vt]]);var Ct=yt,At={id:"login"},wt={id:"form"},Lt=Object(o["h"])("h1",null,"Information de connection",-1),Dt=Object(o["h"])("label",{for:"email"},"Email",-1),Tt=Object(o["h"])("label",{for:"password"},"Mot de passe",-1),Ut=Object(o["h"])("button",null,"Login",-1),It=Object(o["i"])("Ou créer un compte: ");function Et(e,t,n,a,c,r){var i=this;return Object(o["v"])(),Object(o["g"])("div",At,[Object(o["h"])("div",wt,[Lt,Object(o["h"])("form",{onSubmit:t[2]||(t[2]=Object(o["N"])((function(){return r.login&&r.login.apply(r,arguments)}),["prevent"]))},[Dt,Object(o["M"])(Object(o["h"])("input",{type:"email",id:"email",placeholder:"Entrer votre Email ici.","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.mail=e})},null,512),[[o["I"],c.mail]]),Tt,Object(o["M"])(Object(o["h"])("input",{type:"password",id:"password",placeholder:"Mot de passe","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.password=e})},null,512),[[o["I"],c.password]]),Ut],32),Object(o["h"])("p",null,[It,Object(o["h"])("a",{onClick:t[3]||(t[3]=function(e){return i.$router.push("/register")})},"S'enregistrer")])])])}n("3ca3"),n("ddb0"),n("9861"),n("ac1f"),n("841c");var St={name:"login",data:function(){return{mail:new URLSearchParams(window.location.search).get("email")||null,password:null}},methods:{login:function(){var e=this;this.mail&&this.password?fetch("https://warm-inlet-55236.herokuapp.com/api/login",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({email:this.mail,password:this.password})}).then((function(e){return e.json()})).then((function(t){200===t.status?(e.toast("Login successfully","success"),localStorage.setItem("token",t.thisUser.token),setTimeout((function(){e.$router.push("/options")}),300)):e.toast(t.message,"danger")}))["catch"]((function(t){console.log(t),e.toast("Something went wrong","danger")})):this.toast("Please fill all the fields.","danger")}},setup:function(){var e=function(e,t){Object(x["a"])(e,{position:"top-left",timeout:5e3,type:t,showIcon:!0})};return{toast:e}}};n("0614");const xt=O()(St,[["render",Et]]);var Rt=xt,Mt={id:"allCard"};function Ft(e,t,n,a,c,r){var i=Object(o["C"])("loader");return Object(o["v"])(),Object(o["g"])("div",Mt,[Object(o["j"])(i,{object:"#ffffff",color1:"#77c207",color2:"#2c2c2c",size:"11",speed:"1.5",bg:"#343a40",objectbg:"#999793",opacity:"80",name:"circular"})])}var Nt={name:"Item",computed:{allData:function(){return this.$store.state.allLinks}},mounted:function(){this.allData&&0!==this.allData.length?this.$router.push("/items/".concat(this.allData)):this.$router.push("/options")}};const Pt=O()(Nt,[["render",Ft]]);var Bt=Pt,Vt=[{path:"/",name:"Home",component:ut},{path:"/items",name:"Item",component:Bt},{path:"/items/:item",name:"Items",component:tt},{path:"/options",name:"Options",component:ze},{path:"/register",name:"Register",component:Ct},{path:"/login",name:"Login",component:Rt}],Qt=Object(k["a"])({history:Object(k["b"])("/"),routes:Vt}),zt=Qt,Ht=n("2909"),Gt=(n("c740"),n("a434"),n("5502")),$t=Object(Gt["a"])({state:{allLinks:[]},mutations:{getAllLinks:function(e,t){t.map((function(t){e.allLinks.push({id:t._id,name:t.name})}))},incrementAllLinks:function(e,t){e.allLinks=[].concat(Object(Ht["a"])(e.allLinks),[{id:t._id,name:t.name}])},modifyAllLinks:function(e,t){console.log(t);var n=e.allLinks.findIndex((function(e){return e.id===t.cat}));e.allLinks[n].name=t.name,console.log(e.allLinks)},deleteAllLinks:function(e,t){var n=e.allLinks.findIndex((function(e){return e.id===t}));e.allLinks.splice(n,1)}},actions:{},modules:{}}),Jt=n("c27a");n("c4bb");Object(o["d"])(v).use($t).use(zt).use(Jt["a"]).use(x["b"]).mount("#app")},"57b8":function(e,t,n){},5803:function(e,t,n){"use strict";n("6333")},"59ee":function(e,t,n){"use strict";n("24b1")},6333:function(e,t,n){},"7eec":function(e,t,n){},"90f3":function(e,t,n){"use strict";n("57b8")},"9baf":function(e,t,n){"use strict";n("a1d0")},a1d0:function(e,t,n){},c78b:function(e,t,n){},cd74:function(e,t,n){"use strict";n("044a")},cf13:function(e,t,n){},e67c:function(e,t,n){"use strict";n("c78b")},f24d:function(e,t,n){"use strict";n("cf13")}});
//# sourceMappingURL=app.3d208369.js.map